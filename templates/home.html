<!DOCTYPE html>
<html>
<head>
    {% load static %}
<link rel="stylesheet" href="{% static 'css/styles.css' %}">

    <title>Gains Galore üèãüèæ‚Äç‚ôÇÔ∏è</title>
    <style>
        .workout-details {
            display: none;
            margin-top: 5px;
        }
        .workout-title {
            cursor: pointer;
            color: blue;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>Welcome to Gains Galore üí™üèæ</h1>

    {% if user.is_authenticated %}
        <p>Welcome back, {{ user.username }}!</p>
        <a href="/admin/logout/">Logout</a>
    {% else %}
        <p>
            <a href="/users/login/">Login</a> |
            <a href="/users/register/">Register</a>
        </p>
    {% endif %}

    <h2>Workout Plans</h2>
    <ul>
        {% for workout in workouts %}
            <li>
                <span class="workout-title" onclick="toggleDetails('details-{{ forloop.counter }}')">
                    <strong>{{ workout.title }}</strong> - {{ workout.difficulty|capfirst }}
                </span>
                <div id="details-{{ forloop.counter }}" class="workout-details">
                    <p>{{ workout.description }}</p>
                    {% if workout.video_url %}
                        <a href="{{ workout.video_url }}" target="_blank">Watch Video</a><br>
                    {% endif %}
                    {% if workout.is_premium %}
                        <em>Premium</em>
                    {% else %}
                        <em>Free</em>
                    {% endif %}
                </div>
            </li>
            <hr>
        {% empty %}
            <p>No workouts available.</p>
        {% endfor %}
    </ul>

    <script>
        function toggleDetails(id) {
            const el = document.getElementById(id);
            if (el.style.display === 'none' || el.style.display === '') {
                el.style.display = 'block';
            } else {
                el.style.display = 'none';
            }
        }
    </script>
</body>
</html>
